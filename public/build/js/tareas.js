!function(){const e=document.querySelector("#agregar-tarea"),a=(e,a,t,n=3e3)=>{const r=document.createElement("DIV");r.classList.add("alerta",a),r.textContent=e,t.insertAdjacentElement("beforebegin",r),setTimeout((()=>r.remove()),1e3*n)},t=async e=>{const t=new FormData;t.append("nombre",e),t.append("url",(()=>{const e=new URLSearchParams(window.location.search),{id:a}=Object.fromEntries(e.entries());return a})());try{const e=await fetch("/api/tarea",{method:"POST",body:t}),n=await e.json();if(201!==e.status)return a(n.mensaje,"error",document.querySelector(".contenido .contenedor-nueva-tarea"),6)}catch(e){console.log(e)}};e.addEventListener("click",(e=>{const n=document.createElement("DIV");n.classList.add("modal"),n.innerHTML=' \n            <form class="formulario nueva-tarea">\n                <legend>Añande una nueva tarea</legend>\n                <div class="campo">\n                    <label for="tarea">Tarea</label>\n                    <input\n                        type="text"\n                        name="tarea"\n                        id="tarea"\n                        placeholder="Nueva tarea al proyecto"\n                    />\n                </div>\n                <div class="opciones">\n                    <input type="submit" class="submit-nueva-tarea" value="Añadir tarea"/>\n                    <button type="button" class="cerrar-modal" value="Añadir tarea">Cancelar</button>\n\n                </div>\n            </form>\n        ',document.querySelector(".dashboard").appendChild(n);const r=document.querySelector(".formulario"),o=document.querySelector("#tarea");setTimeout((()=>{r.classList.add("animar")}),0),n.addEventListener("click",(async e=>{if(e.preventDefault(),(e.target.classList.contains("modal")||e.target.classList.contains("cerrar-modal"))&&(r.classList.remove("animar"),setTimeout((()=>n.remove()),300)),e.target.classList.contains("submit-nueva-tarea")){const e=o.value.trim();if(!e)return void a("El nombre es obligatorio","error",r.querySelector(".campo"));t(e),r.classList.remove("animar"),setTimeout((()=>n.remove()),300)}}))}))}();